# Database migrations

## How to add a database revision

1. create a local database with the latest schema

    ```bash
    poetry run alembic upgrade head
    ```

1. create a new revision titled _"new revision"_

    ```bash
    poetry run alembic revision --autogenerate -m "new revision"
    ```

1. edit autogenerated script located in `alembic/versions/`
   if you added, removed or changed python Enums, you have to edit it manually (see [this](https://github.com/sqlalchemy/alembic/issues/278))
